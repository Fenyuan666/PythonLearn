ä»¥ä¸‹æ˜¯ **Python æ•™å­¦è·¯å¾„ç¬¬äºŒç« ï¼šå‡½æ•°ä¸ä½œç”¨åŸŸ** çš„å®Œæ•´å†…å®¹ï¼š

âœ… ç³»ç»Ÿè®²è§£æ ¸å¿ƒçŸ¥è¯†ç‚¹  
âœ… æä¾›å¯è¿è¡Œã€æœ‰æ³¨é‡Šçš„ä»£ç å®ä¾‹  
âœ… æ¯ä¸ªçŸ¥è¯†ç‚¹ç´§æ‰£â€œç†è§£ + å®è·µâ€åŸåˆ™  
âœ… æœ¬ç« ç»“æŸåé™„å¸¦ **5é“æµ‹è¯•é¢˜ï¼ˆå«ç­”æ¡ˆä¸è§£æï¼‰**  
âœ… ä¸ºåç»­â€œå†…å­˜ç®¡ç†â€æ‰“ä¸‹åšå®åŸºç¡€ï¼ˆå¦‚æ ˆå¸§ã€å¼•ç”¨ä¼ é€’ã€ä½œç”¨åŸŸç”Ÿå‘½å‘¨æœŸï¼‰

---

# ğŸ“˜ ç¬¬äºŒç« ï¼šå‡½æ•°ä¸ä½œç”¨åŸŸ

> âœ… **å­¦ä¹ ç›®æ ‡**ï¼š
> - æŒæ¡å‡½æ•°å®šä¹‰ä¸è°ƒç”¨æ–¹å¼
> - ç†è§£å‚æ•°ä¼ é€’æœºåˆ¶ï¼ˆä½ç½®ã€é»˜è®¤ã€`*args`ã€`**kwargs`ï¼‰
> - æ·±å…¥ç†è§£è¿”å›å€¼ä¸å¤šè¿”å›å€¼çš„å®ç°åŸç†
> - æŒæ¡ Python çš„ **LEGB ä½œç”¨åŸŸè§„åˆ™**
> - å­¦ä¼šä½¿ç”¨ `global` å’Œ `nonlocal` æ§åˆ¶å˜é‡ä½œç”¨åŸŸ
> - ä¸ºåç»­ç†è§£â€œæ ˆå¸§â€ã€â€œé—­åŒ…â€ã€â€œå†…å­˜ç”Ÿå‘½å‘¨æœŸâ€æ‰“åŸºç¡€

---

## 2.1 å‡½æ•°å®šä¹‰ä¸è°ƒç”¨

å‡½æ•°æ˜¯ç»„ç»‡ä»£ç çš„åŸºæœ¬å•å…ƒã€‚ä½¿ç”¨ `def` å®šä¹‰ï¼Œ`return` è¿”å›ç»“æœã€‚

```python
def greet(name):
    return f"Hello, {name}!"

# è°ƒç”¨å‡½æ•°
message = greet("Alice")
print(message)  # Hello, Alice!
```

ğŸ“Œ **å…³é”®ç‚¹**ï¼š
- å‡½æ•°åæ˜¯**å¯è°ƒç”¨å¯¹è±¡**ï¼ˆæœ¬è´¨æ˜¯ `function` ç±»å‹çš„å¯¹è±¡ï¼‰
- å‡½æ•°ä½“å†…çš„å˜é‡é»˜è®¤æ˜¯**å±€éƒ¨å˜é‡**

```python
print(type(greet))  # <class 'function'>
```

---

## 2.2 å‚æ•°ç±»å‹è¯¦è§£

### âœ… ä½ç½®å‚æ•°ï¼ˆPositional Argumentsï¼‰

æœ€åŸºç¡€çš„å‚æ•°å½¢å¼ï¼Œé¡ºåºå¿…é¡»åŒ¹é…ã€‚

```python
def add(a, b):
    return a + b

result = add(3, 5)
print(result)  # 8
```

### âœ… é»˜è®¤å‚æ•°ï¼ˆDefault Argumentsï¼‰

å‚æ•°å¯è®¾é»˜è®¤å€¼ï¼Œæé«˜çµæ´»æ€§ã€‚

```python
def power(base, exp=2):
    return base ** exp

print(power(4))        # 16ï¼ˆexp ä½¿ç”¨é»˜è®¤å€¼ 2ï¼‰
print(power(4, 3))     # 64ï¼ˆexp è¢«è¦†ç›–ä¸º 3ï¼‰
```

> âš ï¸ **é‡è¦è­¦å‘Š**ï¼šä¸è¦ä½¿ç”¨å¯å˜å¯¹è±¡ä½œä¸ºé»˜è®¤å‚æ•°ï¼

```python
def bad_append(item, lst=[]):  # âŒ å±é™©ï¼
    lst.append(item)
    return lst

print(bad_append(1))  # [1]
print(bad_append(2))  # [1, 2] â† é”™è¯¯ï¼å…±äº«äº†åŒä¸€ä¸ªåˆ—è¡¨
```

âœ… æ­£ç¡®åšæ³•ï¼š
```python
def good_append(item, lst=None):
    if lst is None:
        lst = []
    lst.append(item)
    return lst

print(good_append(1))        # [1]
print(good_append(2))        # [2] â† ç‹¬ç«‹åˆ—è¡¨ï¼Œå®‰å…¨
```

---

### âœ… å¯å˜ä½ç½®å‚æ•° `*args`

æ¥æ”¶ä»»æ„å¤šä¸ªä½ç½®å‚æ•°ï¼Œæ‰“åŒ…ä¸º **å…ƒç»„ï¼ˆtupleï¼‰**

```python
def sum_all(*args):
    print(f"args ç±»å‹: {type(args)}")  # <class 'tuple'>
    return sum(args)

print(sum_all(1, 2, 3, 4))  # 10
```

### âœ… å¯å˜å…³é”®å­—å‚æ•° `**kwargs`

æ¥æ”¶ä»»æ„å¤šä¸ªå…³é”®å­—å‚æ•°ï¼Œæ‰“åŒ…ä¸º **å­—å…¸ï¼ˆdictï¼‰**

```python
def print_info(**kwargs):
    for key, value in kwargs.items():
        print(f"{key}: {value}")

print_info(name="Bob", age=25, city="Shanghai")
# name: Bob
# age: 25
# city: Shanghai
```

### âœ… ç»„åˆä½¿ç”¨ï¼ˆç»å…¸æ¨¡å¼ï¼‰

```python
def profile(name, *hobbies, **details):
    print(f"Name: {name}")
    print(f"Hobbies: {hobbies}")
    print(f"Details: {details}")

profile("Charlie", "reading", "swimming", age=30, job="Engineer")
```

ğŸ“Œ è¾“å‡ºï¼š
```
Name: Charlie
Hobbies: ('reading', 'swimming')
Details: {'age': 30, 'job': 'Engineer'}
```

---

## 2.3 è¿”å›å€¼ä¸å¤šè¿”å›å€¼

å‡½æ•°å¯é€šè¿‡ `return` è¿”å›ä¸€ä¸ªæˆ–å¤šä¸ªå€¼ã€‚

### âœ… å•è¿”å›å€¼
```python
def square(x):
    return x * x
```

### âœ… å¤šè¿”å›å€¼ï¼ˆæœ¬è´¨æ˜¯è¿”å›å…ƒç»„ï¼‰

```python
def min_max(lst):
    return min(lst), max(lst)  # è¿”å›å…ƒç»„

data = [3, 1, 4, 1, 5]
result = min_max(data)
print(result)           # (1, 5)
print(type(result))     # <class 'tuple'>
```

### âœ… è§£åŒ…ï¼ˆUnpackingï¼‰æ¥æ”¶å¤šè¿”å›å€¼

```python
minimum, maximum = min_max(data)
print(f"Min: {minimum}, Max: {maximum}")  # Min: 1, Max: 5
```

> ğŸ” åŸç†ï¼šPython çš„â€œå¤šè¿”å›å€¼â€å…¶å®æ˜¯è¿”å›ä¸€ä¸ªå…ƒç»„ï¼Œå†é€šè¿‡è§£åŒ…èµ‹å€¼ç»™å¤šä¸ªå˜é‡ã€‚

---

## 2.4 ä½œç”¨åŸŸï¼šLEGB è§„åˆ™

Python æŸ¥æ‰¾å˜é‡æ—¶éµå¾ª **LEGB** é¡ºåºï¼š

| å±‚çº§ | å«ä¹‰ |
|------|------|
| L | Localï¼ˆå±€éƒ¨ï¼‰â€”â€”å‡½æ•°å†…éƒ¨ |
| E | Enclosingï¼ˆåµŒå¥—ï¼‰â€”â€”å¤–å±‚å‡½æ•° |
| G | Globalï¼ˆå…¨å±€ï¼‰â€”â€”æ¨¡å—çº§ |
| B | Built-inï¼ˆå†…ç½®ï¼‰â€”â€”å¦‚ `print`, `len` |

### âœ… ç¤ºä¾‹ï¼šLEGB æŸ¥æ‰¾è¿‡ç¨‹

```python
x = "global"  # G

def outer():
    x = "enclosing"  # E
    def inner():
        x = "local"  # L
        print("inner:", x)
    inner()
    print("outer:", x)

outer()
print("global:", x)
```

ğŸ“Œ è¾“å‡ºï¼š
```
inner: local
outer: enclosing
global: global
```

---

## 2.5 `global` ä¸ `nonlocal` å…³é”®å­—

### âœ… `global`ï¼šä¿®æ”¹å…¨å±€å˜é‡

åœ¨å‡½æ•°å†…æƒ³ä¿®æ”¹å…¨å±€å˜é‡ï¼Œå¿…é¡»ç”¨ `global` å£°æ˜ã€‚

```python
counter = 0

def increment():
    global counter
    counter += 1

increment()
print(counter)  # 1
increment()
print(counter)  # 2
```

> âŒ è‹¥ä¸åŠ  `global`ï¼ŒPython ä¼šåˆ›å»ºä¸€ä¸ªåŒåå±€éƒ¨å˜é‡ï¼Œä¸ä¼šä¿®æ”¹å…¨å±€å˜é‡ã€‚

---

### âœ… `nonlocal`ï¼šä¿®æ”¹å¤–å±‚åµŒå¥—å‡½æ•°ä¸­çš„å˜é‡

ç”¨äºé—­åŒ…ä¸­ä¿®æ”¹ `enclosing` ä½œç”¨åŸŸçš„å˜é‡ã€‚

```python
def outer():
    x = 10
    def inner():
        nonlocal x
        x += 1
        print(f"x in inner: {x}")
    inner()
    print(f"x in outer: {x}")

outer()
```

ğŸ“Œ è¾“å‡ºï¼š
```
x in inner: 11
x in outer: 11
```

> ğŸ” æ²¡æœ‰ `nonlocal`ï¼Œ`x += 1` ä¼šè¢«è§†ä¸ºå®šä¹‰å±€éƒ¨å˜é‡ï¼Œå¯¼è‡´ `UnboundLocalError`ã€‚

---

## âœ… ç¬¬äºŒç« æµ‹è¯•é¢˜ï¼ˆå…±5é¢˜ï¼‰

è¯·ç‹¬ç«‹å®Œæˆä»¥ä¸‹é¢˜ç›®ï¼Œæ£€éªŒå¯¹â€œå‡½æ•°ä¸ä½œç”¨åŸŸâ€çš„æŒæ¡ç¨‹åº¦ã€‚

---

### ğŸ”¹ é¢˜ç›®1ï¼šå‡½æ•°è¿”å›å€¼
```python
def func():
    pass

print(func())
```
è¾“å‡ºæ˜¯ï¼Ÿ

A. `None`  
B. `0`  
C. `""`  
D. æŠ¥é”™

---

### ğŸ”¹ é¢˜ç›®2ï¼šé»˜è®¤å‚æ•°é™·é˜±
```python
def add_item(item, target=[]):
    target.append(item)
    return target

a = add_item(1)
b = add_item(2)
print(a is b)
```
è¾“å‡ºæ˜¯ï¼Ÿ

A. `True`  
B. `False`  
C. `None`  
D. æŠ¥é”™

---

### ğŸ”¹ é¢˜ç›®3ï¼šä½œç”¨åŸŸé”™è¯¯
```python
x = 5
def func():
    print(x)
    x = 10
func()
```
è¿è¡Œç»“æœæ˜¯ï¼Ÿ

A. è¾“å‡º `5`  
B. è¾“å‡º `10`  
C. è¾“å‡º `5` ç„¶å `10`  
D. æŠ¥é”™ï¼š`UnboundLocalError`

---

### ğŸ”¹ é¢˜ç›®4ï¼š`*args` ç±»å‹
```python
def func(*args):
    return args

result = func(1, 2, 3)
print(type(result))
```
è¾“å‡ºæ˜¯ï¼Ÿ

A. `<class 'list'>`  
B. `<class 'tuple'>`  
C. `<class 'set'>`  
D. `<class 'dict'>`

---

### ğŸ”¹ é¢˜ç›®5ï¼š`nonlocal` çš„ç”¨é€”
`nonlocal` å…³é”®å­—ç”¨äºï¼š

A. è®¿é—®å†…ç½®å‡½æ•°  
B. ä¿®æ”¹å…¨å±€å˜é‡  
C. ä¿®æ”¹å¤–å±‚å‡½æ•°ä¸­çš„å˜é‡  
D. å¯¼å…¥æ¨¡å—

---

## âœ… æµ‹è¯•é¢˜ç­”æ¡ˆä¸è§£æ

### âœ… é¢˜1ï¼šA. `None`  
**è§£æ**ï¼šå‡½æ•°æ—  `return` è¯­å¥æ—¶ï¼Œé»˜è®¤è¿”å› `None`ã€‚

### âœ… é¢˜2ï¼šA. `True`  
**è§£æ**ï¼šé»˜è®¤å‚æ•° `[]` æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œ`a` å’Œ `b` æŒ‡å‘åŒä¸€ä¸ªåˆ—è¡¨ â†’ `a is b` ä¸º `True`ã€‚

### âœ… é¢˜3ï¼šD. æŠ¥é”™ï¼š`UnboundLocalError`  
**è§£æ**ï¼šå‡½æ•°å†… `x = 10` è¢«è§†ä¸ºå±€éƒ¨å˜é‡ï¼Œä½† `print(x)` åœ¨èµ‹å€¼å‰æ‰§è¡Œï¼Œå¼•å‘é”™è¯¯ã€‚

### âœ… é¢˜4ï¼šB. `<class 'tuple'>`  
**è§£æ**ï¼š`*args` æ”¶é›†ä¸ºå…ƒç»„ï¼Œä¸å¯å˜ã€‚

### âœ… é¢˜5ï¼šC. ä¿®æ”¹å¤–å±‚å‡½æ•°ä¸­çš„å˜é‡  
**è§£æ**ï¼š`nonlocal` ç”¨äºé—­åŒ…ä¸­ä¿®æ”¹ `enclosing` ä½œç”¨åŸŸå˜é‡ï¼Œæ˜¯å®ç°é—­åŒ…çŠ¶æ€çš„å…³é”®ã€‚

---

ğŸ‰ **æ­å–œï¼æ‚¨å·²å®Œæˆç¬¬äºŒç« å­¦ä¹ ä¸æµ‹è¯•ï¼**

> âœ… æ‰€æœ‰çŸ¥è¯†ç‚¹å·²è¦†ç›–  
> âœ… æ‰€æœ‰ä»£ç å¯å¤åˆ¶è¿è¡ŒéªŒè¯  
> âœ… æµ‹è¯•é¢˜å…¨éƒ¨è§£ææ¸…æ™°

